<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†—ñ–≤–µ–Ω—å 1: –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤—ñ—Ç—Ä—è</title>
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .quiz-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 20px;
        }
        
        .question-card {
            background: var(--glass-bg);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            border: 2px solid var(--accent-orange);
            box-shadow: 0 10px 30px rgba(255, 149, 0, 0.2);
        }
        
        .question-number {
            font-size: 14px;
            color: var(--accent-cyan);
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 20px;
            margin-bottom: 20px;
            line-height: 1.4;
        }
        
        .options-grid {
            display: grid;
            gap: 15px;
            margin: 20px 0;
        }
        
        .option-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid var(--glass-border);
            padding: 18px;
            border-radius: 15px;
            text-align: left;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .option-btn:hover {
            background: rgba(255, 149, 0, 0.2);
            border-color: var(--accent-orange);
            transform: translateX(5px);
        }
        
        .option-btn.selected {
            background: rgba(255, 149, 0, 0.3);
            border-color: var(--accent-orange);
        }
        
        .option-btn.correct {
            background: rgba(57, 255, 20, 0.3);
            border-color: var(--accent-lime);
        }
        
        .option-btn.incorrect {
            background: rgba(255, 0, 0, 0.3);
            border-color: #FF0000;
        }
        
        .option-letter {
            width: 40px;
            height: 40px;
            background: var(--accent-purple);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 900;
            font-size: 18px;
        }
        
        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .quiz-stats {
            display: flex;
            justify-content: space-between;
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: 900;
            color: var(--accent-cyan);
        }
        
        .stat-label {
            font-size: 12px;
            opacity: 0.8;
        }
        
        .timer {
            font-size: 24px;
            font-weight: 900;
            color: var(--accent-orange);
            text-align: center;
            margin: 20px 0;
        }
        
        .result-screen {
            text-align: center;
            padding: 40px;
            display: none;
        }
        
        .result-emoji {
            font-size: 80px;
            margin-bottom: 20px;
        }
        
        .result-score {
            font-size: 48px;
            font-weight: 900;
            color: var(--accent-cyan);
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <header class="game-header">
        <div class="header-left">
            <a href="../game.html" class="back-btn">
                <i class="fas fa-arrow-left"></i>
            </a>
            <div class="player-info">
                <div class="username">üå°Ô∏è –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤—ñ—Ç—Ä—è</div>
                <div class="player-class">–†—ñ–≤–µ–Ω—å 1</div>
            </div>
        </div>
        <div class="stats">
            <div class="stat-item">
                <i class="fas fa-clock"></i>
                <span id="timer-display">03:00</span>
            </div>
            <div class="stat-item">
                <i class="fas fa-star"></i>
                <span id="score-display">0/12</span>
            </div>
        </div>
    </header>
    
    <main class="quiz-container">
        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <div class="quiz-stats">
            <div class="stat-item">
                <div class="stat-value" id="current-question">1</div>
                <div class="stat-label">–∑ 6</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="correct-count">0</div>
                <div class="stat-label">–ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="total-score">0</div>
                <div class="stat-label">–±–∞–ª—ñ–≤</div>
            </div>
        </div>
        
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ø–∏—Ç–∞–Ω—å -->
        <div id="questions-container">
            <!-- –ü–∏—Ç–∞–Ω–Ω—è –±—É–¥—É—Ç—å –¥–æ–¥–∞–≤–∞—Ç–∏—Å—è —Ç—É—Ç -->
        </div>
        
        <!-- –ï–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ -->
        <div id="result-screen" class="result-screen">
            <div class="result-emoji" id="result-emoji">üéâ</div>
            <h2 id="result-title">–í—ñ—Ç–∞—î–º–æ!</h2>
            <p id="result-message">–í–∏ –∑–∞–≤–µ—Ä—à–∏–ª–∏ —Ä—ñ–≤–µ–Ω—å!</p>
            <div class="result-score" id="final-score">0 –±–∞–ª—ñ–≤</div>
            <p>–ó—ñ—Ä–æ–∫ –æ—Ç—Ä–∏–º–∞–Ω–æ: <span id="stars-earned">0/3</span></p>
            
            <div class="quiz-controls" style="justify-content: center; margin-top: 40px;">
                <button class="btn-primary" onclick="finishLevel()" style="padding: 15px 40px; font-size: 20px;">
                    <i class="fas fa-trophy"></i> –ó–∞–≤–µ—Ä—à–∏—Ç–∏ —Ä—ñ–≤–µ–Ω—å
                </button>
            </div>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é -->
        <div class="quiz-controls" id="controls-container">
            <button class="btn-secondary" onclick="skipQuestion()" id="skip-btn">
                <i class="fas fa-forward"></i> –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏
            </button>
            <button class="btn-primary" onclick="nextQuestion()" id="next-btn">
                –ù–∞—Å—Ç—É–ø–Ω–µ –ø–∏—Ç–∞–Ω–Ω—è <i class="fas fa-arrow-right"></i>
            </button>
        </div>
    </main>
    
    <script>
        // ============ –ü–ò–¢–ê–ù–ù–Ø –î–õ–Ø –†–Ü–í–ù–Ø 1 ============
        const questions = [
            {
                question: "–©–æ —Ç–∞–∫–µ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞?",
                options: [
                    "–í–æ–¥—è–Ω–∞ –æ–±–æ–ª–æ–Ω–∫–∞ –ó–µ–º–ª—ñ",
                    "–ü–æ–≤—ñ—Ç—Ä—è–Ω–∞ –æ–±–æ–ª–æ–Ω–∫–∞ –ó–µ–º–ª—ñ ‚úì",
                    "–ö–∞–º'—è–Ω–∞ –æ–±–æ–ª–æ–Ω–∫–∞ –ó–µ–º–ª—ñ",
                    "–í–æ–≥–Ω–µ–Ω–∞ –æ–±–æ–ª–æ–Ω–∫–∞ –ó–µ–º–ª—ñ"
                ],
                correct: 1,
                points: 2
            },
            {
                question: "–Ø–∫–∏–π –ø—Ä–∏–ª–∞–¥ –≤–∏–º—ñ—Ä—é—î —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–æ–≤—ñ—Ç—Ä—è?",
                options: [
                    "–ë–∞—Ä–æ–º–µ—Ç—Ä",
                    "–¢–µ—Ä–º–æ–º–µ—Ç—Ä ‚úì",
                    "–ì—ñ–≥—Ä–æ–º–µ—Ç—Ä",
                    "–§–ª—é–≥–µ—Ä"
                ],
                correct: 1,
                points: 2
            },
            {
                question: "–£ —è–∫–∏—Ö –æ–¥–∏–Ω–∏—Ü—è—Ö –≤–∏–º—ñ—Ä—é—é—Ç—å —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É –ø–æ–≤—ñ—Ç—Ä—è?",
                options: [
                    "–ì—Ä–∞–¥—É—Å–∏ –¶–µ–ª—å—Å—ñ—è (¬∞C) ‚úì",
                    "–ö—ñ–ª–æ–≥—Ä–∞–º–∏ (–∫–≥)",
                    "–ú–µ—Ç—Ä–∏ –∑–∞ —Å–µ–∫—É–Ω–¥—É (–º/—Å)",
                    "–ú—ñ–ª—ñ–±–∞—Ä–∏ (–º–±–∞—Ä)"
                ],
                correct: 0,
                points: 2
            },
            {
                question: "–ö–æ–ª–∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –ø–æ–≤—ñ—Ç—Ä—è –Ω–∞–π–≤–∏—â–∞ –ø—Ä–æ—Ç—è–≥–æ–º –¥–Ω—è?",
                options: [
                    "–†–∞–Ω–∫–æ–º",
                    "–û–ø—ñ–≤–¥–Ω—ñ",
                    "–£ –¥—Ä—É–≥—ñ–π –ø–æ–ª–æ–≤–∏–Ω—ñ –¥–Ω—è ‚úì",
                    "–í–Ω–æ—á—ñ"
                ],
                correct: 2,
                points: 2
            },
            {
                question: "–Ø–∫ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è –Ω–∞–π–Ω–∏–∂—á–∏–π —à–∞—Ä –∞—Ç–º–æ—Å—Ñ–µ—Ä–∏?",
                options: [
                    "–°—Ç—Ä–∞—Ç–æ—Å—Ñ–µ—Ä–∞",
                    "–¢—Ä–æ–ø–æ—Å—Ñ–µ—Ä–∞ ‚úì",
                    "–ú–µ–∑–æ—Å—Ñ–µ—Ä–∞",
                    "–¢–µ—Ä–º–æ—Å—Ñ–µ—Ä–∞"
                ],
                correct: 1,
                points: 2
            },
            {
                question: "–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–æ—é –ø–æ–≤—ñ—Ç—Ä—è –ø—Ä–∏ –ø—ñ–¥–π–æ–º—ñ –≤ –≥–æ—Ä–∏?",
                options: [
                    "–ü—ñ–¥–≤–∏—â—É—î—Ç—å—Å—è",
                    "–ó–Ω–∏–∂—É—î—Ç—å—Å—è ‚úì",
                    "–ù–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è",
                    "–°–ø–æ—á–∞—Ç–∫—É –ø—ñ–¥–≤–∏—â—É—î—Ç—å—Å—è, –ø–æ—Ç—ñ–º –∑–Ω–∏–∂—É—î—Ç—å—Å—è"
                ],
                correct: 1,
                points: 2
            }
        ];

        // ============ –ó–ú–Ü–ù–ù–Ü –ì–†–ò ============
        let currentQuestionIndex = 0;
        let selectedAnswer = null;
        let score = 0;
        let correctAnswers = 0;
        let timeLeft = 180; // 3 —Ö–≤–∏–ª–∏–Ω–∏
        let timerInterval;

        // ============ –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø ============
        function initQuiz() {
            loadQuestion();
            startTimer();
            updateStats();
        }

        // ============ –¢–ê–ô–ú–ï–† ============
        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishQuiz();
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timer-display').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // ============ –ó–ê–í–ê–ù–¢–ê–ñ–ï–ù–ù–Ø –ü–ò–¢–ê–ù–ù–Ø ============
        function loadQuestion() {
            if (currentQuestionIndex >= questions.length) {
                finishQuiz();
                return;
            }

            const question = questions[currentQuestionIndex];
            const container = document.getElementById('questions-container');
            
            container.innerHTML = `
                <div class="question-card">
                    <div class="question-number">–ü–∏—Ç–∞–Ω–Ω—è ${currentQuestionIndex + 1} –∑ ${questions.length}</div>
                    <h2 class="question-text">${question.question}</h2>
                    
                    <div class="options-grid" id="options-container">
                        ${question.options.map((option, index) => `
                            <button class="option-btn" onclick="selectAnswer(${index})">
                                <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                                <div>${option.replace(' ‚úì', '')}</div>
                            </button>
                        `).join('')}
                    </div>
                    
                    <div style="margin-top: 20px; text-align: center;">
                        <small>–ó–∞ —Ü–µ –ø–∏—Ç–∞–Ω–Ω—è: <strong>${question.points} –±–∞–ª–∏</strong></small>
                    </div>
                </div>
            `;

            document.getElementById('current-question').textContent = currentQuestionIndex + 1;
            selectedAnswer = null;
            document.getElementById('next-btn').disabled = true;
        }

        // ============ –í–ò–ë–Ü–† –í–Ü–î–ü–û–í–Ü–î–Ü ============
        function selectAnswer(index) {
            if (selectedAnswer !== null) return;
            
            selectedAnswer = index;
            const buttons = document.querySelectorAll('.option-btn');
            
            // –ó–∞–±–∞—Ä–≤–ª—é—î–º–æ –≤–∏–±—Ä–∞–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å
            buttons.forEach(btn => btn.classList.remove('selected'));
            buttons[index].classList.add('selected');
            
            document.getElementById('next-btn').disabled = false;
        }

        // ============ –ü–ï–†–ï–í–Ü–†–ö–ê –í–Ü–î–ü–û–í–Ü–î–Ü ============
        function checkAnswer() {
            const question = questions[currentQuestionIndex];
            const buttons = document.querySelectorAll('.option-btn');
            
            // –ó–∞–±–∞—Ä–≤–ª—é—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω—É –≤—ñ–¥–ø–æ–≤—ñ–¥—å –∑–µ–ª–µ–Ω–æ—é
            buttons[question.correct].classList.add('correct');
            
            // –Ø–∫—â–æ –≤–∏–±—Ä–∞–Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ - —á–µ—Ä–≤–æ–Ω–∞
            if (selectedAnswer !== question.correct) {
                buttons[selectedAnswer].classList.add('incorrect');
                return false;
            } else {
                return true;
            }
        }

        // ============ –ù–ê–°–¢–£–ü–ù–ï –ü–ò–¢–ê–ù–ù–Ø ============
        function nextQuestion() {
            if (selectedAnswer === null) return;
            
            const isCorrect = checkAnswer();
            
            if (isCorrect) {
                score += questions[currentQuestionIndex].points;
                correctAnswers++;
                showMessage('–ü—Ä–∞–≤–∏–ª—å–Ω–æ! +' + questions[currentQuestionIndex].points + ' –±–∞–ª—ñ–≤', 'success');
            } else {
                showMessage('–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ! –ü—Ä–∞–≤–∏–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å: ' + 
                    questions[currentQuestionIndex].options[questions[currentQuestionIndex].correct].replace(' ‚úì', ''), 'info');
            }
            
            setTimeout(() => {
                currentQuestionIndex++;
                if (currentQuestionIndex < questions.length) {
                    loadQuestion();
                    updateStats();
                } else {
                    finishQuiz();
                }
            }, 1500);
        }

        // ============ –ü–†–û–ü–£–°–ö –ü–ò–¢–ê–ù–ù–Ø ============
        function skipQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < questions.length) {
                loadQuestion();
                updateStats();
                showMessage('–ü–∏—Ç–∞–Ω–Ω—è –ø—Ä–æ–ø—É—â–µ–Ω–æ', 'info');
            } else {
                finishQuiz();
            }
        }

        // ============ –û–ù–û–í–õ–ï–ù–ù–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ò ============
        function updateStats() {
            document.getElementById('score-display').textContent = `${score}/${questions.length * 2}`;
            document.getElementById('correct-count').textContent = correctAnswers;
            document.getElementById('total-score').textContent = score;
        }

        // ============ –ó–ê–í–ï–†–®–ï–ù–ù–Ø –¢–ï–°–¢–£ ============
        function finishQuiz() {
            clearInterval(timerInterval);
            
            // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –ø–∏—Ç–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª–∏
            document.getElementById('questions-container').style.display = 'none';
            document.getElementById('controls-container').style.display = 'none';
            document.querySelector('.quiz-stats').style.display = 'none';
            
            // –ü–æ–∫–∞–∑—É—î–º–æ –µ–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
            const resultScreen = document.getElementById('result-screen');
            resultScreen.style.display = 'block';
            
            // –†–æ–∑—Ä–∞—Ö–æ–≤—É—î–º–æ –∑—ñ—Ä–∫–∏
            const percentage = (correctAnswers / questions.length) * 100;
            let stars = 0;
            let emoji = 'üò¢';
            let title = '–ú–æ–∂–Ω–∞ –∫—Ä–∞—â–µ!';
            let message = '–°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑!';
            
            if (percentage >= 90) {
                stars = 3;
                emoji = 'üèÜ';
                title = '–í—ñ–¥–º—ñ–Ω–Ω–æ!';
                message = '–í–∏ –º–∞–π—Å—Ç–µ—Ä —Ç–µ–º–∏!';
            } else if (percentage >= 70) {
                stars = 2;
                emoji = 'üéâ';
                title = '–î–æ–±—Ä–µ!';
                message = '–í–∏ –¥–æ–±—Ä–µ –∑–Ω–∞—î—Ç–µ —Ç–µ–º—É!';
            } else if (percentage >= 50) {
                stars = 1;
                emoji = 'üëç';
                title = '–ù–µ–ø–æ–≥–∞–Ω–æ!';
                message = '–í–∏ –∑–Ω–∞—î—Ç–µ –æ—Å–Ω–æ–≤–∏!';
            }
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –µ–∫—Ä–∞–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤
            document.getElementById('result-emoji').textContent = emoji;
            document.getElementById('result-title').textContent = title;
            document.getElementById('result-message').textContent = message;
            document.getElementById('final-score').textContent = `${score} –±–∞–ª—ñ–≤`;
            document.getElementById('stars-earned').textContent = `${stars}/3`;
            
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
            saveResults(stars);
        }

        // ============ –ó–ë–ï–†–ï–ñ–ï–ù–ù–Ø –†–ï–ó–£–õ–¨–¢–ê–¢–Ü–í ============
        function saveResults(stars) {
            // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ –≤ localStorage
            localStorage.setItem('level1_score', score);
            localStorage.setItem('level1_stars', stars);
            localStorage.setItem('level1_completed', 'true');
            
            console.log(`–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–æ: ${score} –±–∞–ª—ñ–≤, ${stars} –∑—ñ—Ä–æ–∫`);
        }

        // ============ –ó–ê–í–ï–†–®–ï–ù–ù–Ø –†–Ü–í–ù–Ø ============
        function finishLevel() {
            // –û—Ç—Ä–∏–º—É—î–º–æ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
            const score = parseInt(localStorage.getItem('level1_score')) || 0;
            const stars = parseInt(localStorage.getItem('level1_stars')) || 0;
            
            // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ—Å—è –¥–æ –≥—Ä–∏ –∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
            window.location.href = `../game.html?level=1&score=${score}&stars=${stars}`;
        }

        // ============ –ü–û–í–Ü–î–û–ú–õ–ï–ù–ù–Ø ============
        function showMessage(text, type) {
            // –ü—Ä–æ—Å—Ç–∞ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—è
            alert(text);
        }

        // ============ –ó–ê–ü–£–°–ö –ì–†–ò ============
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
</html>
